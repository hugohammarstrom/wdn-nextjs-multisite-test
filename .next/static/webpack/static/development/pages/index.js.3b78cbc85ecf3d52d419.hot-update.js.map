{"version":3,"file":"static/webpack/static/development/pages/index.js.3b78cbc85ecf3d52d419.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { client } from \"../modules/apolloClient\";\n\nconst siteQuery = gql`\n  query($siteUrl: String) {\n    sites(where: { name: { equals: $siteUrl } }) {\n      id\n      language\n      languageLabel\n      name\n      niche\n      logotype {\n        url\n      }\n      providers(first: 10) {\n        name\n        rating\n      }\n    }\n  }\n`;\n\nexport default class IndexPage extends Component {\n  static async getInitialProps(ctx) {\n    console.log(ctx)\n    let { data } = await client.query({\n      query: siteQuery,\n      variables: {\n        siteUrl: ctx.req.headers[\"wdn-site-url\"] || \"livecasinorank.se\"\n      }\n    });\n\n    return { site: data.sites[0] };\n  }\n\n  render() {\n    return (\n      <div>\n        <pre>{JSON.stringify(this.props.site, null, 2)}</pre>\n      </div>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAkBA;;;;;;;;;;;;;AAaA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;AAlBA;;;;;;;AACA;;AACA;AACA;AACA;AACA;AADA;AAFA;AACA;;;AADA;AAOA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAXA;AACA;;;;;A","sourceRoot":""}